<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Admin HYGHBYTE</title>
<style>
    body{background:#0d0d0d;color:#fff;font-family:Arial;padding:25px;}
    h1,h2 {margin-bottom:10px;}
    .card{background:#151515;padding:16px;border-radius:12px;margin-bottom:18px;}
    input,button,select{width:100%;padding:10px;margin:6px 0;border-radius:8px;border:none;font-size:16px;}
    button{background:#e50914;color:#fff;font-weight:bold;cursor:pointer;}
    button:hover{background:#b20710;}
</style>
</head>
<body>

<h1>ğŸ‘‘ ADMIN PANEL</h1>

<form method="POST" action="/admin/add?token=<%= token %>" class="card">

    <label>PlatformÄƒ:</label>
    <select name="platform" id="platform">
        <option value="steam">Steam ID</option>
        <option value="manual">Manual (Itch.io)</option>
    </select>

    <!-- STEAM -->
    <div id="steamBox">
        <input type="text" name="steamId" placeholder="Steam ID">
    </div>

    <!-- MANUAL -->
    <div id="manualBox" style="display:none;">
        <input type="text" name="title" placeholder="Titlu joc">
        <input type="text" name="genres" placeholder="Genuri">
        <input type="text" name="imageUrl" placeholder="URL pozÄƒ">
        <input type="text" name="link" placeholder="URL joc">
    </div>

    <button>â• AdaugÄƒ joc</button>

</form>

<h2>â­ Featured</h2>
<form method="POST" action="/admin/feature?token=<%= token %>" class="card">
<select name="ids" multiple size="7" style="height:auto;">
    <% games.forEach(g => { %>
    <option value="<%= g.id %>" <%= featured.includes(g.id)?"selected":"" %>>
        <%= g.title %>
    </option>
    <% }) %>
</select>
<button>ğŸ’¡ ActualizeazÄƒ Featured</button>
</form>

<h2>ğŸ® Jocuri existente</h2>
<% games.forEach(g => { %>
<div class="card">
    <strong><%= g.title %></strong><br>
    <span><%= g.genres %></span><br><br>
    <form method="POST" action="/admin/delete?token=<%= token %>">
        <input type="hidden" name="id" value="<%= g.id %>">
        <button style="background:#222;">ğŸ—‘ï¸ È˜terge</button>
    </form>
</div>
<% }) %>

<script>
// Change platform UI
document.getElementById('platform').addEventListener("change", e=>{
    let isSteam = e.target.value === "steam";
    document.getElementById("steamBox").style.display = isSteam ? "block" : "none";
    document.getElementById("manualBox").style.display = isSteam ? "none" : "block";
});
</script>

</body>
</html>
