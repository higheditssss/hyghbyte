<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Admin Panel âœ”</title>
<link rel="stylesheet" href="/styles.css">
</head>

<body style="background:#0d0d0d;color:#fff;font-family:Arial;padding:20px;">

<h1>AdaugÄƒ joc nou ğŸ®</h1>

<div style="margin-bottom:20px;">
    <label><input type="radio" name="mode" value="steam" checked onclick="toggleMode()"> Steam ID</label>
    <label style="margin-left:15px;"><input type="radio" name="mode" value="manual" onclick="toggleMode()"> Manual</label>
</div>

<!-- Steam Import -->
<form id="steamForm" action="/admin/add?token=<%= token %>" method="POST">
    <input type="hidden" name="source" value="steam">
    <input type="number" name="steamId" placeholder="Steam AppID (ex: 620)" required>
    <button type="submit" class="hb-button-primary">ğŸ® ImportÄƒ din Steam</button>
</form>

<!-- Manual Add -->
<form id="manualForm" action="/admin/add?token=<%= token %>" method="POST" style="display:none;margin-top:15px;">
    <input type="hidden" name="source" value="manual">
    <input type="text" name="title" placeholder="Nume joc">
    <input type="text" name="genres" placeholder="Genuri (ex: Horror, Indie)">
    <input type="url" name="imageUrl" placeholder="Imagine URL">
    <input type="url" name="link" placeholder="Link joc">
    <label><input type="checkbox" name="featured"> Featured â­</label>
    <button type="submit" class="hb-button-primary">ğŸ’¾ SalveazÄƒ joc</button>
</form>

<hr style="margin:30px 0;border-color:#222;">

<h2>Jocuri existente</h2>

<% if (games.length === 0) { %>
<p>Nu existÄƒ jocuri Ã®ncÄƒ ğŸ˜…</p>
<% } %>

<div class="hb-grid">
<% games.forEach(g => { %>
<article class="hb-card">
    <img class="hb-card-img" src="<%= g.imageUrl %>">
    <div class="hb-card-info">
        <h3><%= g.title %></h3>
        <p><%= g.genres %></p>
        <a target="_blank" href="<%= g.link %>" class="hb-button-primary">â–¶</a>
    </div>
</article>
<% }) %>
</div>

<script>
function toggleMode() {
    const m = document.querySelector('input[name="mode"]:checked').value;
    steamForm.style.display = m === "steam" ? "block" : "none";
    manualForm.style.display = m === "manual" ? "block" : "none";
}
</script>

</body>
</html>
